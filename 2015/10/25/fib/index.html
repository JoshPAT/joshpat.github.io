<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>在Python中解决Fib问题的多种方法 | Yesterday&#39;s Byte</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="问题由来传说在十字军东征的某一天晚上，罗马的大主教在做了一个梦， 梦中天使加里列和他说：找到所有会数学的文化人，特别是那个叫Fibonacci。你们必须算出第一百万个Fibonacci数是什么，不然的话十字军在中东就会被穆斯林哥哥团灭。这是上帝大人的意思。说完，大天使消失，教皇也醒了。教皇心想：喔哦，天降大任于斯人也，必将苦其心志…（我瞎说的）。教皇心想：一百万是多少？">
<meta property="og:type" content="article">
<meta property="og:title" content="在Python中解决Fib问题的多种方法">
<meta property="og:url" content="http://yoursite.com/2015/10/25/fib/index.html">
<meta property="og:site_name" content="Yesterday's Byte">
<meta property="og:description" content="问题由来传说在十字军东征的某一天晚上，罗马的大主教在做了一个梦， 梦中天使加里列和他说：找到所有会数学的文化人，特别是那个叫Fibonacci。你们必须算出第一百万个Fibonacci数是什么，不然的话十字军在中东就会被穆斯林哥哥团灭。这是上帝大人的意思。说完，大天使消失，教皇也醒了。教皇心想：喔哦，天降大任于斯人也，必将苦其心志…（我瞎说的）。教皇心想：一百万是多少？">
<meta property="og:image" content="http://yoursite.com/img/fib.jpg">
<meta property="og:updated_time" content="2015-10-25T12:29:11.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="在Python中解决Fib问题的多种方法">
<meta name="twitter:description" content="问题由来传说在十字军东征的某一天晚上，罗马的大主教在做了一个梦， 梦中天使加里列和他说：找到所有会数学的文化人，特别是那个叫Fibonacci。你们必须算出第一百万个Fibonacci数是什么，不然的话十字军在中东就会被穆斯林哥哥团灭。这是上帝大人的意思。说完，大天使消失，教皇也醒了。教皇心想：喔哦，天降大任于斯人也，必将苦其心志…（我瞎说的）。教皇心想：一百万是多少？">
<meta name="twitter:image" content="http://yoursite.com/img/fib.jpg">
  
    <link rel="alternative" href="/atom.xml" title="Yesterday&#39;s Byte" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img lazy-src="https://en.gravatar.com/userimage/87177847/9f41bd8145e833e43ab4594f2bbd9c7c.jpg?size=200" class="js-avatar">
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Zhou Quan</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/instagram">相册</a></li>
				        
							<li><a href="/plots">可视化数据</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/JoshPAT" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/u/3503482562/home?wvr=5" title="weibo">weibo</a>
					        
								<a class="facebook" target="_blank" href="https://www.facebook.com/quan.zhou.102" title="facebook">facebook</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Design-Pattern/" style="font-size: 10px;">Design Pattern</a> <a href="/tags/Multipath-TCP/" style="font-size: 10px;">Multipath TCP</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/algorithm/" style="font-size: 10px;">algorithm</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/performance/" style="font-size: 10px;">performance</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/杂谈/" style="font-size: 10px;">杂谈</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">我就是我，是不一样的烟火...</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Zhou Quan</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="https://en.gravatar.com/userimage/87177847/9f41bd8145e833e43ab4594f2bbd9c7c.jpg?size=200" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Zhou Quan</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/instagram">相册</a></li>
		        
					<li><a href="/plots">可视化数据</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/JoshPAT" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/u/3503482562/home?wvr=5" title="weibo">weibo</a>
			        
						<a class="facebook" target="_blank" href="https://www.facebook.com/quan.zhou.102" title="facebook">facebook</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-fib" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/25/fib/" class="article-date">
  	<time datetime="2015-10-25T00:13:20.000Z" itemprop="datePublished">2015-10-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      在Python中解决Fib问题的多种方法
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/algorithm/">algorithm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/performance/">performance</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      

        <!-- Table of Contents -->
        
          <div id="toc" class="toc-article">
            <strong class="toc-title">文章目录</strong>
            <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#问题由来"><span class="toc-number">1.</span> <span class="toc-text">问题由来</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#解决方法"><span class="toc-number">2.</span> <span class="toc-text">解决方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#原始递归"><span class="toc-number">2.1.</span> <span class="toc-text">原始递归</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#原始递推"><span class="toc-number">2.2.</span> <span class="toc-text">原始递推</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#装饰器递推"><span class="toc-number">2.3.</span> <span class="toc-text">装饰器递推</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#简单粗暴的公式法"><span class="toc-number">2.4.</span> <span class="toc-text">简单粗暴的公式法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#线性代数"><span class="toc-number">2.5.</span> <span class="toc-text">线性代数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#测试"><span class="toc-number">3.</span> <span class="toc-text">测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#后记"><span class="toc-number">4.</span> <span class="toc-text">后记</span></a></li></ol>
          </div>
        
        
        <p><img src="/img/fib.jpg" alt="pope"></p>
<h3 id="问题由来">问题由来</h3><p>传说在十字军东征的某一天晚上，罗马的大主教在做了一个梦， 梦中天使加里列和他说：<code>找到所有会数学的文化人，特别是那个叫Fibonacci。你们必须算出第一百万个Fibonacci数是什么，不然的话十字军在中东就会被穆斯林哥哥团灭。这是上帝大人的意思。</code>说完，大天使消失，教皇也醒了。教皇心想：喔哦，天降大任于斯人也，必将苦其心志…（我瞎说的）。教皇心想：一百万是多少？</p>
<a id="more"></a>
<p>要知道，那时候欧洲还采用罗马数字，而罗马数字是没有加减运算的。为什么呢，因为罗马数字里面是没有<code>零</code>的，没有了零，大家怎么做加减呢，没错就是幼儿园的用的手指头计数。而且，有个大学士在罗马数字中开发了<code>零</code>后还写了一堆论文来论证用<code>零</code>来简易计数的方法。喔哦，然并卵，罗马教会看到后说，罗马数字是完美神圣的，不可加入这个邪恶的<code>零</code>，于是<code>零</code>和这个人就直接被简单粗暴的烧烧烧烧死了。</p>
<p>教皇冷静了一下，恩，心想到：上帝怎么会这样考验我（一个数学不好的人），这一定是恶魔👿。睡觉先。</p>
<p>恩，接下来，上帝不开心了。请转播萨拉丁大帝如何大破圣十字军。</p>
<h3 id="解决方法">解决方法</h3><p>ok。今天，我准备讲下用python来解这道题的基本思路。</p>
<p>首先，最基本的递归算法，这应该是所有初学算法里面最常见的一种。</p>
<h4 id="原始递归">原始递归</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(n)</span>:</span></div><div class="line">    <span class="keyword">return</span> n <span class="keyword">if</span> n <span class="keyword">in</span> [<span class="number">0</span>, <span class="number">1</span>] <span class="keyword">else</span> fib(n<span class="number">-2</span>) + fib(n<span class="number">-1</span>)</div></pre></td></tr></table></figure>
<p>这种算法非常低效，因为每次都有算一遍前fib(n)的值。</p>
<h4 id="原始递推">原始递推</h4><p>那么于是有了基于它的优化算法：用<code>递推</code>来代替<code>递归</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib_1</span><span class="params">(n)</span>:</span></div><div class="line">    a, b = <span class="number">0</span>, <span class="number">1</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> xrange(n):</div><div class="line">        a, b = b, a + b</div><div class="line">    <span class="keyword">return</span> a</div></pre></td></tr></table></figure>
<p>这是一般是最优化的fib算法了，包括python自己的文档Modules里面也是这个思路。</p>
<h4 id="装饰器递推">装饰器递推</h4><p>但是不得不提一下网上利用python自身语言特性，用装饰器来优化之前的<code>递归</code>算法的。<a href="http://ujihisa.blogspot.fr/2010/11/memoized-recursive-fibonacci-in-python.html" target="_blank" rel="external">参看</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">memorize</span><span class="params">(fn)</span>:</span></div><div class="line">    stored_results = &#123;&#125;</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">memoized</span><span class="params">(*args)</span>:</span></div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            <span class="comment"># try to get the cached result</span></div><div class="line">            <span class="keyword">return</span> stored_results[args]</div><div class="line">        <span class="keyword">except</span> KeyError:</div><div class="line">            <span class="comment"># nothing was cached for those args. let's fix that.</span></div><div class="line">            result = stored_results[args] = fn(*args)</div><div class="line">            <span class="keyword">return</span> result</div><div class="line">    <span class="keyword">return</span> memorized</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@memorize</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(n)</span>:</span></div><div class="line">    <span class="keyword">return</span> n <span class="keyword">if</span> n <span class="keyword">in</span> [<span class="number">0</span>, <span class="number">1</span>] <span class="keyword">else</span> fib(n<span class="number">-2</span>) + fib(n<span class="number">-1</span>)</div></pre></td></tr></table></figure>
<p>这样的做的话，在做递归的时候，会先看一下装饰器中有没有储存相应的fib值，如果没有，则把计算结果储存在装饰器里。<br>这样做递归就不需要再去重新计算n之前的值了，其实也就是<code>递推</code>思路。</p>
<h4 id="简单粗暴的公式法">简单粗暴的公式法</h4><p>当然，也可以用<a href="https://zh.wikipedia.org/wiki/斐波那契数列" target="_blank" rel="external">数学公式</a>解决。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> math</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib_2</span><span class="params">(n)</span>:</span></div><div class="line">    <span class="string">'''formula for Fibonacci'''</span></div><div class="line">    sr5 = math.sqrt(<span class="number">5</span>)</div><div class="line">    y = (((<span class="number">1</span> + sr5) / <span class="number">2</span>) ** n - ((<span class="number">1</span> - sr5) / <span class="number">2</span>) ** n)/ sr5</div><div class="line">    <span class="keyword">return</span> y</div></pre></td></tr></table></figure>
<h4 id="线性代数">线性代数</h4><p>然而其实最高效和快速的是用<a href="https://zh.wikipedia.org/wiki/斐波那契数列" target="_blank" rel="external">线性代数</a>来解决.</p>
<p>它的推演过程就是：</p>
<ol>
<li>f(2) = f(1)+f(0) </li>
<li>f(3) = f(2)+f(1)=2*f(1) + f(0)</li>
<li>f(4) = f(3) + f(2) = 3*f(1) + 2*f(0)</li>
</ol>
<p>……</p>
<p>n+1. f(n) = f(n-1) + f(n-2) = A*f(1) + B*f(0)</p>
<p>如果以矩阵行列式的方式来表示这种推演就是如下注释中的公式</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">线性代数解法</div><div class="line">| Fn    |   | 1   1 |            |  1 |</div><div class="line">|       | = |       | ** (n-1) x |    |</div><div class="line">| Fn-1  |   | 1   0 |            |  0 |</div></pre></td></tr></table></figure>
<p>我在网上找到了一段代码实现代码，这个实现方法写出来非常不pythonic，可读性也很差。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib_3</span><span class="params">(n)</span>:</span></div><div class="line">    <span class="keyword">if</span> n &lt;= <span class="number">0</span>:</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span></div><div class="line">    i = n - <span class="number">1</span></div><div class="line">    a,b = <span class="number">1</span>,<span class="number">0</span></div><div class="line">    c,d = <span class="number">0</span>,<span class="number">1</span></div><div class="line">    <span class="keyword">while</span> i &gt; <span class="number">0</span>:</div><div class="line">        <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">1</span>: <span class="comment"># 这也是一个优化，将 a\*\*4 的问题优化成 a\*\*2 * a**2</span></div><div class="line">            a,b = d\*b + c\*a, d\*(b + a) + c\*b</div><div class="line">        c,d = c\*\*<span class="number">2</span> + d\*\*<span class="number">2</span>, d\*(<span class="number">2</span>\*c + d)</div><div class="line">        i = i / <span class="number">2</span></div><div class="line">    <span class="keyword">return</span> a + b</div></pre></td></tr></table></figure>
<p>那么在python中我们可以使用numpy的库，这个库是专门用于实现集合矩阵的计算。使用这个库，我们能非常方便的实现矩阵的n-1次方。<br>而且使用这种方法执行非常之快</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib_4</span><span class="params">(n)</span>:</span>    </div><div class="line">    m = np.matrix([[<span class="number">1</span>,<span class="number">1</span>], [<span class="number">1</span>, <span class="number">0</span>]], object) <span class="comment"># 注意这里的类型是object，其他类型会溢出</span></div><div class="line">    result = (m **(n<span class="number">-1</span>)) * [[<span class="number">1</span>], [<span class="number">0</span>]] </div><div class="line">    <span class="keyword">return</span> result[<span class="number">0</span>,<span class="number">0</span>]</div></pre></td></tr></table></figure>
<h3 id="测试">测试</h3><p>那么接下来来帮罗马教主计算一下第一百万个Fibonacci数，<br>同时测试一下各算法的优劣。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">python -m timeit <span class="string">'import fib\_test'</span> <span class="string">'fib_test.fib(1000000)'</span></div><div class="line">RuntimeError: maximum recursion depth exceeded</div></pre></td></tr></table></figure>
<p>使用<code>原始递归加装饰器</code>的方式直接超出python的可递归范围。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">python -m timeit <span class="string">'import fib\_test'</span> <span class="string">'fib_test.fib\_2(1000000)'</span></div><div class="line">OverflowError: (<span class="number">34</span>, <span class="string">'Result too large'</span>)</div></pre></td></tr></table></figure>
<p>使用<code>数学公式</code>的方式直接溢出。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">python -m timeit <span class="string">'import fib\_test'</span> <span class="string">'fib_test.fib\_2(1000000)'</span></div><div class="line">  File <span class="string">"./fib\_test.py"</span>, line <span class="number">31</span>, <span class="keyword">in</span> fib_1</div><div class="line">    a, b = b, a + b</div><div class="line">KeyboardInterrupt</div></pre></td></tr></table></figure>
<p>程序进入循环，性能很慢，被我直接中断。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">python -m timeit -s <span class="string">'import fib\_test'</span> <span class="string">'fib\_test.fib_3(1000000)'</span></div><div class="line"><span class="number">10</span> loops, best of <span class="number">3</span>: <span class="number">262</span> msec per loop</div></pre></td></tr></table></figure>
<p>用<code>线性代数</code>实现的方式耗时<em>262ms</em>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">python -m timeit -s <span class="string">'import fib\_test'</span> <span class="string">'fib\_test.fib_4(1000000)'</span></div><div class="line"><span class="number">10</span> loops, best of <span class="number">3</span>: <span class="number">403</span> msec per loop</div></pre></td></tr></table></figure>
<p>使用<code>numpy库线性代数</code>的方式耗时<em>403ms</em>。</p>
<p>这是因为在<code>线性代数</code>存在一个优化就是：将 a**4 的问题优化成 a**2 <em> a*</em>2，把计算量2n次方简化到n次方。</p>
<h3 id="后记">后记</h3><p>这是最近研究numpy和算法后的一点点小的心得体会，已作记录。</p>
<hr>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/03/17/design pattern in python/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          Design Pattern in Python
        
      </div>
    </a>
  
  
    <a href="/2015/10/17/nsd 2 lab/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">NSD Lab2 Report</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>



<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="fib" data-title="在Python中解决Fib问题的多种方法" data-url="http://yoursite.com/2015/10/25/fib/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"joshpat"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>



</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Zhou Quan
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/mobile.js"></script>
<script src="/js/main.js"></script>





<! -- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  </div>
</body>
</html>